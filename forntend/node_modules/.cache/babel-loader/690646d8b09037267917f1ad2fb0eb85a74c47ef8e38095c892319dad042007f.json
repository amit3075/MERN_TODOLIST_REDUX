{"ast":null,"code":"import axios from 'axios';\nimport { ADDNEW_TODO, GETALL_TODO, TOGGLE_TODO, UPDATE_TODO, DELETE_TODO, TOGGLE_TAB } from './type';\nconst API_URL = 'http://localhost:8000';\nexport const addNewTodo = data => {\n  return async dispatch => {\n    try {\n      const response = await fetch(\"http://localhost:8000/api/todos\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          data\n        }) // Use { data } instead of { data: text }\n      });\n\n      if (!response.ok) {\n        throw new Error(\"Failed to add new todo.\");\n      }\n      const newTodo = await response.json();\n\n      // Dispatch the action to add the newTodo to the Redux store\n      dispatch({\n        type: ADDNEW_TODO,\n        payload: newTodo\n      });\n    } catch (error) {\n      console.error(\"Error adding new todo:\", error);\n    }\n  };\n};\n\n// export const getAllTodos = () => async (dispatch) => {\n//     try {\n//         const res = await axios.get(`${API_URL}/todos`);\n\n//         dispatch({ type: GETALL_TODO , payload: res.data });\n//     } catch (error) {\n//         console.log('Error while calling getAllTodos API ', error.message);\n//     }\n// }\nexport const getAllTodos = () => {\n  return async dispatch => {\n    try {\n      const response = await fetch(\"http://localhost:8000/api/todos\");\n      if (!response.ok) {\n        throw new Error(\"Failed to fetch todos.\");\n      }\n      const todos = await response.json();\n      dispatch({\n        type: GETALL_TODO,\n        payload: todos\n      });\n    } catch (error) {\n      console.error(\"Error while calling getAllTodos API:\", error);\n    }\n  };\n};\n\n// export const toggleTodo = (id) => async (dispatch) => {\n//     try {\n//         const res = await axios.get(`${API_URL}/todos/${id}`);\n\n//         dispatch({ type: TOGGLE_TODO , payload: res.data });\n//     } catch (error) {\n//         console.log('Error while calling getAllTodos API ', error.message);\n//     }\n// }\n// export const toggleTodo = (id) => {\n//     return async (dispatch) => {\n//       try {\n//         const response = await axios.put(`${API_URL}/api/todos/${id}`);\n//         if (!response.ok) {\n//           throw new Error(\"Failed to toggle todo.\");\n//         }\n//         const toggledTodo = await response.json();\n//         dispatch({ type: TOGGLE_TODO, payload: toggledTodo });\n//       } catch (error) {\n//         console.error(\"Error while calling toggleTodo API:\", error);\n//       }\n//     };\n//   };\n// export const toggleTodo = (id) => {\n//     return async (dispatch) => {\n//       try {\n//         const response = await axios.get(`${API_URL}/api/todos/${id}`);\n//         if (response.status !== 200) {\n//           throw new Error(\"Failed to toggle todo.\");\n//         }\n//         const toggledTodo = response.data; // Access the data directly from response.data\n//         dispatch({ type: TOGGLE_TODO, payload: toggledTodo });\n//       } catch (error) {\n//         console.error(\"Error while calling toggleTodo API:\", error);\n//       }\n//     };\n//   };\nexport const TOGGLE_TODO_ERROR = 'TOGGLE_TODO_ERROR';\nexport const toggleTodo = id => async dispatch => {\n  try {\n    const response = await axios.put(`${API_URL}/api/todos/${id}`);\n    if (response.status === 200) {\n      // Successful toggle, dispatch the action to update the todo in the store\n      const toggledTodo = response.data;\n      dispatch({\n        type: TOGGLE_TODO,\n        payload: toggledTodo\n      });\n    } else {\n      // If response status is not 200, handle the error\n      throw new Error(\"Failed to toggle todo: Server error.\");\n    }\n  } catch (error) {\n    // Catch any errors that occur during the API call\n    console.error(\"Error while calling toggleTodo API:\", error);\n    // Dispatch an action to update the store with the error information\n    dispatch({\n      type: TOGGLE_TODO_ERROR,\n      payload: error.message\n    });\n  }\n};\nexport const updateTodo = (id, data) => {\n  return async dispatch => {\n    try {\n      const response = await axios.put(`${API_URL}/api/todos/${id}`, {\n        data\n      });\n      if (response.status === 200) {\n        const updatedTodo = response.data;\n        dispatch({\n          type: UPDATE_TODO,\n          payload: updatedTodo\n        });\n      } else {\n        throw new Error(\"Failed to update todo.\");\n      }\n    } catch (error) {\n      console.error(\"Error while calling updateTodo API:\", error);\n    }\n  };\n};\n\n// export const deleteTodo = (id) => async (dispatch) => {\n//     try {\n//         const res = await axios.delete(`${API_URL}/todos/${id}`);\n\n//         dispatch({ type: DELETE_TODO , payload: res.data });\n//     } catch (error) {\n//         console.log('Error while calling deleteTodo API ', error.message);\n//     }\n// }\n// export const deleteTodo = (id) => {\n//     return async (dispatch) => {\n//       try {\n//         const response = await axios.delete(`${API_URL}/api/todos/${id}`);\n//         if (!response.ok) {\n//           throw new Error(\"Failed to delete todo.\");\n//         }\n//         dispatch({ type: DELETE_TODO, payload: id });\n//       } catch (error) {\n//         console.error(\"Error while calling deleteTodo API:\", error);\n//       }\n//     };\n//   };\nexport const deleteTodo = id => {\n  return async dispatch => {\n    try {\n      const response = await axios.delete(`${API_URL}/api/todos/${id}`);\n      if (response.status === 200) {\n        // Successful deletion, dispatch the action to remove the todo from the store\n        dispatch({\n          type: DELETE_TODO,\n          payload: id\n        });\n      } else {\n        throw new Error(\"Failed to delete todo.\");\n      }\n    } catch (error) {\n      console.error(\"Error while calling deleteTodo API:\", error);\n    }\n  };\n};\n\n// export const toggleTab = (tab) => async (dispatch) => {\n//     dispatch({ type: TOGGLE_TAB, selected: tab })\n// }\nexport const toggleTab = tab => {\n  return {\n    type: TOGGLE_TAB,\n    selected: tab\n  };\n};","map":{"version":3,"names":["axios","ADDNEW_TODO","GETALL_TODO","TOGGLE_TODO","UPDATE_TODO","DELETE_TODO","TOGGLE_TAB","API_URL","addNewTodo","data","dispatch","response","fetch","method","headers","body","JSON","stringify","ok","Error","newTodo","json","type","payload","error","console","getAllTodos","todos","TOGGLE_TODO_ERROR","toggleTodo","id","put","status","toggledTodo","message","updateTodo","updatedTodo","deleteTodo","delete","toggleTab","tab","selected"],"sources":["C:/Users/acer/Desktop/MERN_Todolist/forntend/src/redux/actions/index.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nimport { ADDNEW_TODO, GETALL_TODO, TOGGLE_TODO, UPDATE_TODO, DELETE_TODO, TOGGLE_TAB } from './type';\r\n\r\nconst API_URL = 'http://localhost:8000';\r\n\r\n\r\nexport const addNewTodo = (data) => {\r\n    return async (dispatch) => {\r\n      try {\r\n        const response = await fetch(\"http://localhost:8000/api/todos\", {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify({ data }), // Use { data } instead of { data: text }\r\n        });\r\n  \r\n        if (!response.ok) {\r\n          throw new Error(\"Failed to add new todo.\");\r\n        }\r\n  \r\n        const newTodo = await response.json();\r\n  \r\n        // Dispatch the action to add the newTodo to the Redux store\r\n        dispatch({ type: ADDNEW_TODO, payload: newTodo });\r\n      } catch (error) {\r\n        console.error(\"Error adding new todo:\", error);\r\n      }\r\n    };\r\n  };\r\n  \r\n  \r\n\r\n  \r\n\r\n// export const getAllTodos = () => async (dispatch) => {\r\n//     try {\r\n//         const res = await axios.get(`${API_URL}/todos`);\r\n\r\n//         dispatch({ type: GETALL_TODO , payload: res.data });\r\n//     } catch (error) {\r\n//         console.log('Error while calling getAllTodos API ', error.message);\r\n//     }\r\n// }\r\nexport const getAllTodos = () => {\r\n    return async (dispatch) => {\r\n      try {\r\n        const response = await fetch(\"http://localhost:8000/api/todos\");\r\n        if (!response.ok) {\r\n          throw new Error(\"Failed to fetch todos.\");\r\n        }\r\n        const todos = await response.json();\r\n        dispatch({ type: GETALL_TODO, payload: todos });\r\n      } catch (error) {\r\n        console.error(\"Error while calling getAllTodos API:\", error);\r\n      }\r\n    };\r\n  };\r\n\r\n// export const toggleTodo = (id) => async (dispatch) => {\r\n//     try {\r\n//         const res = await axios.get(`${API_URL}/todos/${id}`);\r\n\r\n//         dispatch({ type: TOGGLE_TODO , payload: res.data });\r\n//     } catch (error) {\r\n//         console.log('Error while calling getAllTodos API ', error.message);\r\n//     }\r\n// }\r\n// export const toggleTodo = (id) => {\r\n//     return async (dispatch) => {\r\n//       try {\r\n//         const response = await axios.put(`${API_URL}/api/todos/${id}`);\r\n//         if (!response.ok) {\r\n//           throw new Error(\"Failed to toggle todo.\");\r\n//         }\r\n//         const toggledTodo = await response.json();\r\n//         dispatch({ type: TOGGLE_TODO, payload: toggledTodo });\r\n//       } catch (error) {\r\n//         console.error(\"Error while calling toggleTodo API:\", error);\r\n//       }\r\n//     };\r\n//   };\r\n// export const toggleTodo = (id) => {\r\n//     return async (dispatch) => {\r\n//       try {\r\n//         const response = await axios.get(`${API_URL}/api/todos/${id}`);\r\n//         if (response.status !== 200) {\r\n//           throw new Error(\"Failed to toggle todo.\");\r\n//         }\r\n//         const toggledTodo = response.data; // Access the data directly from response.data\r\n//         dispatch({ type: TOGGLE_TODO, payload: toggledTodo });\r\n//       } catch (error) {\r\n//         console.error(\"Error while calling toggleTodo API:\", error);\r\n//       }\r\n//     };\r\n//   };\r\nexport const TOGGLE_TODO_ERROR = 'TOGGLE_TODO_ERROR';\r\nexport const toggleTodo = (id) => async (dispatch) => {\r\n    try {\r\n      const response = await axios.put(`${API_URL}/api/todos/${id}`);\r\n      if (response.status === 200) {\r\n        // Successful toggle, dispatch the action to update the todo in the store\r\n        const toggledTodo = response.data;\r\n        dispatch({ type: TOGGLE_TODO, payload: toggledTodo });\r\n      } else {\r\n        // If response status is not 200, handle the error\r\n        throw new Error(\"Failed to toggle todo: Server error.\");\r\n      }\r\n    } catch (error) {\r\n      // Catch any errors that occur during the API call\r\n      console.error(\"Error while calling toggleTodo API:\", error);\r\n      // Dispatch an action to update the store with the error information\r\n      dispatch({ type: TOGGLE_TODO_ERROR, payload: error.message });\r\n    }\r\n  };\r\n  \r\n  \r\n\r\nexport const updateTodo = (id, data) => {\r\n    return async (dispatch) => {\r\n      try {\r\n        const response = await axios.put(`${API_URL}/api/todos/${id}`, { data });\r\n        if (response.status === 200) {\r\n          const updatedTodo = response.data;\r\n          dispatch({ type: UPDATE_TODO, payload: updatedTodo });\r\n        } else {\r\n          throw new Error(\"Failed to update todo.\");\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error while calling updateTodo API:\", error);\r\n      }\r\n    };\r\n  };\r\n  \r\n  \r\n  \r\n\r\n// export const deleteTodo = (id) => async (dispatch) => {\r\n//     try {\r\n//         const res = await axios.delete(`${API_URL}/todos/${id}`);\r\n\r\n//         dispatch({ type: DELETE_TODO , payload: res.data });\r\n//     } catch (error) {\r\n//         console.log('Error while calling deleteTodo API ', error.message);\r\n//     }\r\n// }\r\n// export const deleteTodo = (id) => {\r\n//     return async (dispatch) => {\r\n//       try {\r\n//         const response = await axios.delete(`${API_URL}/api/todos/${id}`);\r\n//         if (!response.ok) {\r\n//           throw new Error(\"Failed to delete todo.\");\r\n//         }\r\n//         dispatch({ type: DELETE_TODO, payload: id });\r\n//       } catch (error) {\r\n//         console.error(\"Error while calling deleteTodo API:\", error);\r\n//       }\r\n//     };\r\n//   };\r\nexport const deleteTodo = (id) => {\r\n    return async (dispatch) => {\r\n      try {\r\n        const response = await axios.delete(`${API_URL}/api/todos/${id}`);\r\n        if (response.status === 200) {\r\n          // Successful deletion, dispatch the action to remove the todo from the store\r\n          dispatch({ type: DELETE_TODO, payload: id });\r\n        } else {\r\n          throw new Error(\"Failed to delete todo.\");\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error while calling deleteTodo API:\", error);\r\n      }\r\n    };\r\n  };\r\n  \r\n  \r\n\r\n// export const toggleTab = (tab) => async (dispatch) => {\r\n//     dispatch({ type: TOGGLE_TAB, selected: tab })\r\n// }\r\nexport const toggleTab = (tab) => {\r\n    return { type: TOGGLE_TAB, selected: tab };\r\n  };\r\n  \r\n\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}